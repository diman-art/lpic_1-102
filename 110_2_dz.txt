Перед выполнением заданий важно самостоятельно повторить шаги, выполняемые на уроке.

1) Установить SSH-сервер, но отключить его автозапуск.
apt install ssh-server && systemctl disable ssh

2) Найти дистрибутив Linux, на котором можно будет запустить inetd и попробовать его настроить на прием запросов по порту SSH и запуску соответсвующего демона.
apt-get install openbsd-inetd
echo 'ssh 22/tcp' >> /etc/services
echo 'ssh stream   tcp      nowait   SSHDAEM  /usr/sbin/sshd  sshd -i' >> /etc/inetd.conf

3) Установить xinetd и разрешить в нем доступ к серверу SSH только из вашей локальной сети.
sudo apt update
sudo apt install xinetd
nano /etc/xinetd.d/sshdaemon
# Впиши:
service ssh
{
        disable = no
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/sshd
        server_args     = -i
        per_source      = UNLIMITED
        log_on_success  = HOST PID
        log_on_failure  = HOST USERID
        nice            = 10
        only_from	= 192.168.1.0/24
         
}


4) Всем остальным при попытке установить соединение SSH выдавать предупрждение с произвольным текстом.
nano /etc/hosts.allow
sshd : 192.168.0.0/24 spawn wall -g root "Кто-то чужой идёт на ssh"
sshd : 127.0.0.1
sshd : [::1]

nano /etc/hosts.deny:
ALL : ALL

5) При обращении к SSH из вашей локальной сети настроить запуск демона SSH в расширенном тестовом режиме или в режиме отладки.
nano /etc/xinetd.d/sshdaemon
# Впиши:
service ssh
{
        disable = no
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/sshd
        server_args     = -T
        per_source      = UNLIMITED
        log_on_success  = HOST PID
        log_on_failure  = HOST USERID
        nice            = 10
        only_from	= 192.168.1.0/24
         
}
