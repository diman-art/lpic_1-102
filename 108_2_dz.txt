Перед выполнением заданий важно самостоятельно повторить шаги, выполняемые на уроке.

1) Посмотреть как системы ведения событий установлены в современных дистрибутивах Ubuntu, Centos, OpenSUSE.

                                              CentOS:
nano /etc/syslog/conf

# Видим закоментированные события от ядра, записываемые в /dev/console
kern.*  /dev/console

# незакоментируемую строку: 
*info;mail;none,authpriv,none,cron,none 
# Говорящей о том, что все незакомментируемые   
# события ,mail;none,cron,none - никакие из этих событий не будут записаны в /var/log/messages , authpriv- события 
# связанные с аутентификацией(log,pass). Все события, важнее информационных будут записаны в /var/log/messages.

#  незакоментируемую строку: 
authpriv.*   /var/log/secure 
# говорящей что всё по логированию пишется в эту папку

# незакоментируемую строку mail.* -/var/log/maillog , говорящей что всё по mail пишется в эту папку. "-" говорит
# о том, что этот журнал после использования не нужно выгружать из оперативной памяти, имея его кеш.

# незакоментируемую строку:
cron   /var/log/cron 
# говорящей что все события планировщика в эту папку

# незакоментируемую строку: 
*.emerg   *  
# говорящей что все источники событий с типом событий emerg максимально
# приоритетны. * означает, что каждый пользователь получит сообщение о ЧС.

# незакоментируемую строку: 
uucp,news.crit   /var/log/spooler 
# Говорящей что все источники событий которые
# относятся к источнику событий "новости", которые являются критическими и выше хранятся в этой папке

# незакоментируемую строку:  
local7.*   /var/log/boot.log 
# Локали-это метки, которые можно присваивать событиям 
# Все события помеченные как local7 будут записываться в  папку журнала загрузчика

2) Создать журнал событий в своей домашней папке и записывать в него все события системы с приоритетом 
"предупреждение" и выше.
nano /etc/syslog/conf
*.crit   /var/log/spooler
service syslog reload

3) Попробовать настроить пересылку логов с одной машину на другую.
nano /etc/syslog/conf
# Впиши:
user.*  @192.168.1.1
# Всё что относится к пользователю отправь на 192.168.1.1
service syslog reload
# На принемающей машине syslog надо изменить его файл конфигурации: nano /etc/sysconfig/syslog
# Изменить строку: SYSLOG OPTIONS="-m 0" на SYSLOG OPTIONS="-m -r 0"
# Перечитаем конфиг службы: service syslog reload
# На машине с которой передаём логи можно пользоваться пакетом "logger", позволяющим создавать события
# Пример: logger -p user.warn Privet, help me.  
# Текст "Privet, help me." будет отправлен user на удалённую машину

4) Отсортировать события ядра в отдельный журнал.
nano /etc/syslog/conf
kern.*  /mnt/kernel
service syslog reload

5) Настроить ежедненвную ротацию логов и установить максимальный размер журнала в 1Мб.
nano /etc/cron.dayly/logrotate
/usr/sbin/logrotate /etc/logrotate.conf

nano /etc/logrotate.conf 
# Измени weekly на dayly


6) Создать отдельные настройки ротации для журнала событий пользователя.
nano /etc/systemd/journal.conf
# Раскоментируй storage=persistent
service systemd-joirnald reload

7) Вывести события загрузки с приоритетом "info" и выше за последние два месяца.
journalctl -p info
8) Вывести в консоль последние двадцать системных событий.
journalctl -n 20 
9) Создать правило для rsyslog сохраняющее журнал событий каждой загрузки в файл в домашней папке вашего пользователя.

10) Настроить syslog-ng на прием логов с какого-нибудь источника в сети (маршрутизатор, сервер, ПК, NAS и т.д.)
